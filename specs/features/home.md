# ホーム画面機能

> 最終更新: 2025-12-04
> ステータス: 仕様作成中

## 1. 概要

ログイン後に表示されるメイン画面。各機能へのナビゲーション、お知らせ表示、ユーザー情報を提供し、アプリの入り口として機能する。

## 2. ユーザーストーリー

- 生徒として、ログイン後にアプリ全体を把握したい。どこに何があるかすぐ分かりたいから。
- 生徒として、ロゴをクリックしてホームに戻りたい。迷った時に戻れる場所が欲しいから。
- 生徒として、自分のプロフィールを確認したい。登録情報を確認したいから。
- 生徒として、未読のお知らせに気づきたい。重要な情報を見逃したくないから。
- 新規ユーザーとして、アカウント登録をしたい。アプリを使い始めたいから。

## 3. データ構造

### UserProfile

| フィールド | 型 | 必須 | 説明 |
|-----------|-----|------|------|
| id | string | ✓ | 一意識別子 |
| name | string | ✓ | ユーザー名 |
| nameKana | string | ✓ | フリガナ |
| avatarUrl | string \| null | | アバター画像URL |
| grade | string | ✓ | 学年（例: 小学6年、中学2年） |
| createdAt | ISO8601 | ✓ | 登録日時 |

### RegistrationFormData

| フィールド | 型 | 必須 | 説明 |
|-----------|-----|------|------|
| name | string | ✓ | ユーザー名（1-20文字） |
| nameKana | string | ✓ | フリガナ（ひらがな/カタカナ） |
| grade | string | ✓ | 学年選択 |
| avatarUrl | string \| null | | アバター画像URL |

## 4. コンポーネント

| 名前 | 責務 | 配置 |
|------|------|------|
| HomePage | ホーム画面全体 | pages/HomePage/ |
| Header | ロゴ、ユーザー情報、お知らせベル | components/layout/ |
| NotificationBell | お知らせベルアイコン + 未読バッジ | components/notification/ |
| UserMenu | ユーザー名クリック時のドロップダウン | components/layout/ |
| ProfilePage | プロフィール詳細画面 | pages/ProfilePage/ |
| RegistrationPage | アカウント登録画面 | pages/RegistrationPage/ |
| RegistrationForm | 登録フォーム | components/registration/ |

## 5. 画面仕様

### 5.1 ヘッダー

```
┌──────────────────────────────────────────────────────┐
│ [ロゴ]          [ベル🔔]  [アバター][ユーザー名 ▼]  │
└──────────────────────────────────────────────────────┘
```

#### ロゴ
- クリック → ホーム画面へ遷移
- サイズ: 高さ 40px
- カーソル: pointer

#### お知らせベル
- 位置: ヘッダー右側（ユーザー情報の左）
- 未読バッジ: 未読件数を赤丸で表示（9+形式で上限）
- クリック → お知らせ一覧へ遷移

#### ユーザー情報
- アバター（24px × 24px、円形） + ユーザー名表示
- ユーザー名クリック → ドロップダウンメニュー表示
  - プロフィール
  - ログアウト

### 5.2 ホーム画面

#### ウェルカムメッセージ
- トーン: カジュアル、親しみやすい
- 例: 「{ユーザー名}さん、こんにちは！今日も一緒にがんばろう！」
- 時間帯による変化:
  - 5:00-11:59: 「おはよう！」
  - 12:00-17:59: 「こんにちは！」
  - 18:00-4:59: 「こんばんは！」

#### 機能カード
各機能への導線をカード形式で表示。カジュアルなトーンの説明文。

| 機能 | タイトル | 説明文 |
|------|---------|--------|
| 日報 | 学習日報 | 「今日やったことを記録してみよう！」 |
| 相談 | 相談チャット | 「困ったことがあったら聞いてみよう！」 |
| 実績 | 実績 | 「がんばった記録を見てみよう！」 |
| アンケート | アンケート | 「みんなの声を聞かせてね！」 |

#### レイアウト
- **デスクトップ**: 2×2グリッド
- **モバイル**: 縦1列スクロール
- カードはホバーで浮き上がるアニメーション

### 5.3 プロフィール画面

#### 表示項目
- アバター（大サイズ: 80px × 80px）
- ユーザー名
- フリガナ
- 学年
- 登録日

#### 編集機能
- 「編集する」ボタン
- 編集時: インライン編集またはモーダルフォーム
- 編集可能項目: ユーザー名、フリガナ、学年、アバター

### 5.4 アカウント登録画面

#### 対象
- 初回ログイン時、またはアカウント未設定ユーザー

#### 入力フォーム

| 項目 | 入力形式 | バリデーション |
|------|---------|---------------|
| ユーザー名 | テキスト | 必須、1-20文字 |
| フリガナ | テキスト | 必須、ひらがな/カタカナのみ |
| 学年 | セレクトボックス | 必須、小1〜中3 |
| アバター | 画像アップロード | 任意、5MB以下 |

#### 学年選択肢
```typescript
const gradeOptions = [
  '小学1年', '小学2年', '小学3年',
  '小学4年', '小学5年', '小学6年',
  '中学1年', '中学2年', '中学3年'
];
```

#### UI仕様
- ステップ形式（1/3、2/3、3/3）または1画面完結
- 送信ボタン: 「登録する」（カジュアルトーン）
- 成功時: 「登録できたよ！さっそく使ってみよう！」

## 6. トーン・表現ガイドライン

### 基本方針
- 小中学生が親しみやすいカジュアルな表現
- 「〜してください」より「〜してみよう！」
- 否定的な表現を避け、ポジティブな言い回し

### 例

| ❌ 避ける表現 | ✅ 推奨表現 |
|-------------|-----------|
| 入力してください | 入力してね |
| 登録が完了しました | 登録できたよ！ |
| エラーが発生しました | うまくいかなかったみたい |
| 未入力です | まだ入力されてないよ |

## 7. ナビゲーション仕様

### ロゴクリック
- 動作: ホーム画面（`/`）へ遷移
- どの画面からでもホームに戻れる

### サイドバー
- 現在のページをハイライト表示
- ホームページへのリンクをサイドバー最上部に配置

## 8. 制約・バリデーション

| フィールド | 制約 |
|-----------|------|
| name | 必須、1-20文字 |
| nameKana | 必須、ひらがな/カタカナのみ |
| grade | 必須、選択肢から選ぶ |
| avatarUrl | 任意、5MB以下、JPEG/PNG/GIF/WebP |

## 9. 関連

- → specs/features/notification.md（お知らせベルの未読バッジ連携）
- → specs/features/tutorial.md（初回ログイン時のチュートリアル連携）
- → specs/shared/colors.md（カラー定義）

## 10. 変更履歴

| 日付 | 変更内容 |
|------|----------|
| 2025-12-04 | 初版作成: ホーム画面、プロフィール、アカウント登録仕様 |
