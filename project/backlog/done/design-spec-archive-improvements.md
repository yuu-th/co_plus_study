---
id: design-spec-archive-improvements
feature: archive
depends_on: []
scope_files:
  - specs/features/archive.md
forbidden_files:
  - frontend/src/
  - project/backlog/
created_at: 2025-11-27
---

# タスク: 実績（ARCHIVE）機能仕様書更新

> このファイルはサブエージェントへの作業指示書です。

## 0. 最初に必ず読むファイル（スキップ禁止）

| 順序 | ファイル | 読む目的 |
|------|----------|----------|
| 1 | `specs/overview.md` | システム全体像・技術制約 |
| 2 | `specs/features/archive.md` | 既存仕様 |
| 3 | `specs/shared/conventions.md` | コーディング規約 |

## 1. タスク概要

実績（ARCHIVE）機能の仕様書を更新する。ユーザーフィードバックをもとに、カレンダーUI、バッジ、統計表示を改善する。

## 2. 完了条件

- [ ] `specs/features/archive.md` が更新されている
- [ ] 以下の改善が反映されている：
  - [ ] タイトルを「ARCHIVE」→「実績」に変更
  - [ ] 累計日数（総活動日数）の表示仕様
  - [ ] カレンダー表示の改善（グレー/黄色、連続表示）
  - [ ] 曜日を日本語化、土日の色分け
  - [ ] バッジ達成ゲージの追加
  - [ ] タブサイズの統一
- [ ] 矛盾がないこと

## 3. 編集対象ファイル

| ファイル | 操作 |
|----------|------|
| `specs/features/archive.md` | 編集 |

## 4. 具体的な改善内容

### 4.1 ページタイトル
現在: 「ARCHIVE」（英語）
改善後: 「実績」（日本語）

ただしUI内部では "archive" のままでOK（URL等）

### 4.2 累計統計の追加
ContinuousStats型に以下を追加:

```typescript
interface ContinuousStats {
  currentStreak: number;        // 現在の連続日数
  longestStreak: number;        // 最長連続日数
  totalDays: number;            // ★新規: 累計活動日数
}
```

### 4.3 カレンダー表示の改善

#### 色分け
| 状態 | 背景色 | 用途 |
|------|--------|------|
| 活動なし | グレー | 学習していない日 |
| 活動あり | 黄色 | 学習した日 |

#### 連続表示
- 連続した活動日を視覚的に「つなぐ」表示
- 例: 18-19-20日が活動日の場合、「18→19→20」というように見える（線で繋ぐ等）

#### 曜日表記
現在: 英字（S M T W T F S）or 数字（？）
改善後:
- 日本語: 日 月 火 水 木 金 土
- 色分け: 日曜=赤、土曜=青
- フォントウェイト: 平日よりやや太め

### 4.4 バッジ（スキル）タブの改善

#### 達成ゲージ追加
Badge型に以下を追加:

| フィールド | 型 | 説明 |
|-----------|-----|------|
| condition | string | 獲得条件（例: "連続7日学習"） |
| progress | number | 進捗状況（0～100%） |
| status | 'locked' \| 'in_progress' \| 'earned' | バッジ状態 |

#### バッジカード表示
- 「獲得条件」を表示
- 進捗ゲージを表示（未獲得時）
- 獲得日時を表示（獲得済み時）

### 4.5 タブサイズの統一
現在: 「カレンダー」「メダル」のタブサイズが異なる可能性
改善後: 両タブのサイズ・パディングを統一

### 4.6 画面レイアウト
改善要求: 「スペースの使い方が下手」→ ホワイトスペースの最適化

仕様の指針:
- 統計情報（連続日数）は上部に大きく表示
- カレンダーは中央にゆったり配置
- スマートフォンでも読みやすいサイズ

## 5. 変更履歴セクション

既存の変更履歴を保持し、新しいエントリを追加:

```
| 2025-11-27 | UI/UX改善: ページタイトル日本語化、カレンダー表示改善、達成ゲージ追加、タブサイズ統一 |
```

## 6. 注意事項

- 型定義（`types/archive.ts` または `types/badge.ts`）は後続タスクで更新
- 実装コンポーネント更新は別タスク
- 仕様のみ最新化

## 7. 完了報告

```markdown
## 完了報告

### タスクID
design-spec-archive-improvements

### 編集ファイル
- `specs/features/archive.md` - 更新

### 主要な変更点
- タイトル: ARCHIVE → 実績
- 累計日数表示の仕様追加
- カレンダー表示: グレー/黄色、連続線表示、日本語曜日、色分け
- バッジに達成ゲージとステータス表示
- タブサイズ統一、レイアウト改善指針

### 未解決の問題
- なし
```
